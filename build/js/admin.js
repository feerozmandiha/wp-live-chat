!function(t){"use strict";class n{constructor(){this.config=window.wpLiveChatAdmin||{},this.init()}init(){this.bindEvents()}bindEvents(){t("#test-pusher-connection").on("click",()=>this.testConnection()),t('input[type="text"], input[type="password"]').on("blur",function(){t(this).trigger("validate")})}async testConnection(){const n=t("#test-pusher-connection"),s=t("#test-result");n.prop("disabled",!0).text(this.config.testing),s.removeClass("success error").html("").show();try{const n=await t.ajax({url:this.config.ajaxurl,type:"POST",data:{action:"test_pusher_connection",nonce:this.config.nonce},dataType:"json"});if(!n.success)throw new Error(n.data.message);s.addClass("success").html(`\n                        <div class="notice notice-success inline">\n                            <p>${n.data.message}</p>\n                        </div>\n                    `)}catch(t){s.addClass("error").html(`\n                    <div class="notice notice-error inline">\n                        <p>${t.message||this.config.error}</p>\n                    </div>\n                `)}finally{n.prop("disabled",!1).text("تست اتصال به Pusher")}}}t(document).ready(function(){window.wpLiveChatAdminInstance=new n})}(jQuery);